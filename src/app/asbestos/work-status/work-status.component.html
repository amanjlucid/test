<kendo-window title="Edit Work Status Detail" *ngIf="openWorkStatus" (close)="closeWorkStatusWin()" [top]="10"
  [minWidth]="500" [width]="830" [height]="auto" [minHeight]="400">

  <form [formGroup]="workStatusForm" (ngSubmit)="onSubmit()" autocomplete="off">
    <div class="row mt-2">
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-4">
            <label class="col-form-label">Status:</label>
          </div>
          <div class="col-md-8 form-group">
            <select class="form-control" formControlName="workStatus"
              [ngClass]="{ 'is-invalid': submitted && formErrors.workStatus }">
              <option value="None">None</option>
              <option value="Pending">Pending</option>
              <option value="Held">Held</option>
              <option value="Cancelled">Cancelled</option>
              <option value="Complete">Complete</option>
            </select>
            <!-- When form is disabled -->
            <div *ngIf="submitted && formErrors.workStatus" class="invalid-feedback">
              <div *ngIf="formErrors.workStatus">{{ formErrors.workStatus }}</div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-4">
            <label class="col-form-label">Work Order Code:</label>
          </div>
          <div class="col-md-8 form-group">
            <input [readonly]="readonly" type="text" class="form-control" formControlName="woc"
              [ngClass]="{ 'is-invalid': submitted && formErrors.woc }">

            <div *ngIf="submitted && formErrors.woc" class="invalid-feedback">
              <div *ngIf="formErrors.woc">{{ formErrors.woc }}</div>
            </div>
          </div>
        </div>
      </div>


      <div class="col-md-6">
        <div class="row">
          <div class="col-md-4">
            <label class="col-form-label">Ordered By:</label>
          </div>
          <div class="col-md-8 form-group">
            <input [readonly]="readonly" type="text" class="form-control" formControlName="wob"
              [ngClass]="{ 'is-invalid': submitted && formErrors.wob }">

            <div *ngIf="submitted && formErrors.wob" class="invalid-feedback">
              <div *ngIf="formErrors.wob">{{ formErrors.wob }}</div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-4">
            <label class="col-form-label">Contractor:</label>
          </div>
          <div class="col-md-8 form-group">
            <input [readonly]="readonly" type="text" class="form-control" formControlName="workContractor"
              [ngClass]="{ 'is-invalid': submitted && formErrors.workContractor }">

            <div *ngIf="submitted && formErrors.workContractor" class="invalid-feedback">
              <div *ngIf="formErrors.workContractor">{{ formErrors.workContractor }}</div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="row">
          <div class="col-md-4">
            <label class="col-form-label">Ordered Date:</label>
          </div>
          <div class="col-md-8 form-group">
            <input [readonly]="readonly" type="text" class="form-control" (click)="openCalendar(i)" [minDate]="{year: 1800, month: 1, day: 1}"
              ngbDatepicker #i="ngbDatepicker" formControlName="workOrdered"
              [ngClass]="{ 'is-invalid': submitted && formErrors.workOrdered }">

            <div *ngIf="submitted && formErrors.workOrdered" class="invalid-feedback">
              <div *ngIf="formErrors.workOrdered">{{ formErrors.workOrdered }}</div>
            </div>
          </div>
        </div>
      </div>


      <div class="col-md-6">
        <div class="row">
          <div class="col-md-4">
            <label class="col-form-label">Due Date:</label>
          </div>
          <div class="col-md-8 form-group">
            <input [readonly]="readonly" type="text" class="form-control" (click)="openCalendar(d)" [minDate]="{year: 1800, month: 1, day: 1}"
              ngbDatepicker #d="ngbDatepicker" formControlName="workDue"
              [ngClass]="{ 'is-invalid': submitted && formErrors.workDue }">

            <div *ngIf="submitted && formErrors.workDue" class="invalid-feedback">
              <div *ngIf="formErrors.workDue">{{ formErrors.workDue }}</div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="row">
          <div class="col-md-4">
            <label class="col-form-label">Completed Date:</label>
          </div>
          <div class="col-md-8 form-group">
            <input [readonly]="readonly || completeDateReadOnly" type="text" class="form-control" (click)="openCalendar(c,'completedDate')" [minDate]="{year: 1800, month: 1, day: 1}"
              ngbDatepicker #c="ngbDatepicker" [placement]="'right'" formControlName="workCompleted"
              [ngClass]="{ 'is-invalid': submitted && formErrors.workCompleted }">

            <div *ngIf="submitted && formErrors.workCompleted" class="invalid-feedback">
              <div *ngIf="formErrors.workCompleted">{{ formErrors.workCompleted }}</div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-12">
        <div class="row">
          <div class="col-md-2">
            <label class="col-form-label">Comments:</label>
          </div>
          <div class="col-md-10 form-group">
            <textarea [readonly]="readonly" rows="6" class="form-control" formControlName="comments"
              [ngClass]="{ 'is-invalid': submitted && formErrors.comments }"></textarea>

            <div *ngIf="submitted && formErrors.comments" class="invalid-feedback">
              <div *ngIf="formErrors.comments">{{ formErrors.comments }}</div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="row mt-3">
      <div class="col-md-12 text-right workStatusAction">
        <button type="button" (click)="resetForm()" class="btn btn-sm themeButton">Reset</button>
        <button type="submit" class="btn btn-sm themeButton">Apply</button>
        <button type="button" (click)="closeWorkStatusWin()" class="btn btn-sm themeButton">Cancel</button>
      </div>
    </div>






  </form>

  <div class="workStatus"></div>

</kendo-window>